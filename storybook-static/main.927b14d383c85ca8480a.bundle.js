(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1612:function(module,exports,__webpack_require__){__webpack_require__(1613),__webpack_require__(1810),__webpack_require__(1811),__webpack_require__(2237),__webpack_require__(2588),__webpack_require__(2627),__webpack_require__(2679),__webpack_require__(2721),__webpack_require__(2727),__webpack_require__(2763),__webpack_require__(2765),module.exports=__webpack_require__(2777)},1703:function(module,exports){},1811:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(1063)},218:function(module,exports,__webpack_require__){var api=__webpack_require__(1009),content=__webpack_require__(2799);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},248:function(module,exports,__webpack_require__){var api=__webpack_require__(1009),content=__webpack_require__(2803);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2765:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(452),__webpack_require__(2772),__webpack_require__(1578),__webpack_require__(2774),__webpack_require__(2775),__webpack_require__(1005),__webpack_require__(1581);var _clientApi=__webpack_require__(105),_clientLogger=__webpack_require__(22),_configFilename=__webpack_require__(2776);function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);enumerableOnly&&(symbols=symbols.filter((function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable}))),keys.push.apply(keys,symbols)}return keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach((function(key){_defineProperty(target,key,source[key])})):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach((function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))}))}return target}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}(_configFilename.args||_configFilename.argTypes)&&_clientLogger.logger.warn("Invalid args/argTypes in config, ignoring.",JSON.stringify({args:_configFilename.args,argTypes:_configFilename.argTypes})),_configFilename.decorators&&_configFilename.decorators.forEach((function(decorator){return(0,_clientApi.addDecorator)(decorator,!1)})),_configFilename.loaders&&_configFilename.loaders.forEach((function(loader){return(0,_clientApi.addLoader)(loader,!1)})),(_configFilename.parameters||_configFilename.globals||_configFilename.globalTypes)&&(0,_clientApi.addParameters)(_objectSpread(_objectSpread({},_configFilename.parameters),{},{globals:_configFilename.globals,globalTypes:_configFilename.globalTypes}),!1),_configFilename.argTypesEnhancers&&_configFilename.argTypesEnhancers.forEach((function(enhancer){return(0,_clientApi.addArgTypesEnhancer)(enhancer)}))},2776:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"parameters",(function(){return parameters}));var parameters={actions:{argTypesRegex:"^on[A-Z].*"}}},2777:function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(1063).configure)([__webpack_require__(2778),__webpack_require__(2779)],module,!1)}).call(this,__webpack_require__(252)(module))},2778:function(module,exports){function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=function(){return[]},webpackEmptyContext.resolve=webpackEmptyContext,module.exports=webpackEmptyContext,webpackEmptyContext.id=2778},2779:function(module,exports,__webpack_require__){var map={"./stories/DDEditor.stories.jsx":2807};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=2779},2791:function(module,exports,__webpack_require__){var api=__webpack_require__(1009),content=__webpack_require__(2792);"string"==typeof(content=content.__esModule?content.default:content)&&(content=[[module.i,content,""]]);var options={insert:"head",singleton:!1};api(content,options);module.exports=content.locals||{}},2792:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(330),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__)()(!0);___CSS_LOADER_EXPORT___.push([module.i,"body {\r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n    sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\ncode {\r\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\r\n    monospace;\r\n}\r\n\r\nselect{\r\n  border: navajowhite;\r\n  outline: 1px solid !important;\r\n  border: none !important;\r\n}\r\n","",{version:3,sources:["webpack://src/index.css"],names:[],mappings:"AAAA;EACE,SAAS;EACT;;cAEY;EACZ,mCAAmC;EACnC,kCAAkC;AACpC;;AAEA;EACE;aACW;AACb;;AAEA;EACE,mBAAmB;EACnB,6BAA6B;EAC7B,uBAAuB;AACzB",sourcesContent:["body {\r\n  margin: 0;\r\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n    sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\ncode {\r\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\r\n    monospace;\r\n}\r\n\r\nselect{\r\n  border: navajowhite;\r\n  outline: 1px solid !important;\r\n  border: none !important;\r\n}\r\n"],sourceRoot:""}]),__webpack_exports__.default=___CSS_LOADER_EXPORT___},2799:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(330),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__)()(!0);___CSS_LOADER_EXPORT___.push([module.i,"._1t_n9zqlH_iwbBevamsQxA {\n  display: -webkit-flex;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 10px !important;\n}\n._1kgi3KXC7p0tOrYo98TKLp {\n  display: -webkit-box!important;\n  display: -webkit-flex!important;\n  display: -ms-flexbox!important;\n  display: flex!important;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  position: relative;\n  padding: 6px 10px;\n  background: #fff;\n  color: #333;\n  min-width: 80px;\n  font-size: 12px;\n  border: 1px solid #00f;\n}\n._1kgi3KXC7p0tOrYo98TKLp ._2aW7oJrdjFoAm9t3L0iG-I {\n  margin: 0 4px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  cursor: pointer;\n  font-size: 16px;\n  width: 16px;\n  height: 16px;\n}\n._1kgi3KXC7p0tOrYo98TKLp::before {\n  position: absolute;\n  top: 50%;\n  left: -30px;\n  display: block;\n  width: 30px;\n  height: 30px;\n  border: none;\n  border-top: 1px solid #00f;\n  content: '';\n}\n._1kgi3KXC7p0tOrYo98TKLp:first-child::before {\n  position: absolute;\n  top: 50%;\n  left: -30px;\n  display: none;\n  width: 30px;\n  height: 30px;\n  border: none;\n  border-top: 1px solid #00f;\n  content: '';\n}\n._1kgi3KXC7p0tOrYo98TKLp:after {\n  position: absolute;\n  top: 50%;\n  left: calc(100% + 1px);\n  display: block;\n  width: 30px;\n  height: 1px;\n  border: none;\n  background-color: #00f;\n  content: '';\n}\n._1LmqDvjyThWvoHfhnUVysa::after {\n  display: none;\n}\n._1SaJoNCGtxqO90f3M5QvAK {\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 60px;\n}\n._1SaJoNCGtxqO90f3M5QvAK >  {\n  display: -webkit-flex;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n._3mGZxaA-qxasm1IJPRjQC_ {\n  position: relative;\n  display: -webkit-flex;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 10px;\n}\n._3mGZxaA-qxasm1IJPRjQC_:last-child {\n  margin-bottom: 0;\n}\n._3mGZxaA-qxasm1IJPRjQC_:before {\n  position: absolute;\n  left: -30px;\n  top: 50%;\n  display: block;\n  width: 30px;\n  height: 1px;\n  background-color: #00f;\n  content: '';\n}\n.Z194GEDGqHkybnCkJW7uZ::after {\n  position: absolute;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  left: -30px;\n  top: 0;\n  display: block;\n  width: 30px;\n  height: calc(100% + 10px);\n  border: none;\n  border-left: 1px solid #00f;\n  content: '';\n}\n.Z194GEDGqHkybnCkJW7uZ:first-child:after {\n  position: absolute;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  left: -30px;\n  top: 50%;\n  display: block;\n  width: 30px;\n  height: calc(100% - 50% + 10px);\n  border: none;\n  border-left: 1px solid #00f;\n  content: '';\n}\n.Z194GEDGqHkybnCkJW7uZ:last-child:after {\n  position: absolute;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  left: -30px;\n  display: block;\n  width: 30px;\n  height: calc(100% - 50%);\n  border: none;\n  border-left: 1px solid #00f;\n  content: '';\n}\n","",{version:3,sources:["webpack://src/components/index.less"],names:[],mappings:"AAAA;EACE,qBAAqB;EACrB,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,yBAAmB;EAAnB,2BAAmB;MAAnB,sBAAmB;UAAnB,mBAAmB;EACnB,8BAA8B;AAChC;AACA;EACE,8BAAuB;EAAvB,+BAAuB;EAAvB,8BAAuB;EAAvB,uBAAuB;EACvB,wBAAuB;EAAvB,+BAAuB;MAAvB,qBAAuB;UAAvB,uBAAuB;EACvB,yBAAmB;EAAnB,2BAAmB;MAAnB,sBAAmB;UAAnB,mBAAmB;EACnB,kBAAkB;EAClB,iBAAiB;EACjB,gBAAgB;EAChB,WAAW;EACX,eAAe;EACf,eAAe;EACf,sBAAsB;AACxB;AACA;EACE,aAAa;EACb,oBAAa;EAAb,qBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,eAAe;EACf,eAAe;EACf,WAAW;EACX,YAAY;AACd;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,WAAW;EACX,cAAc;EACd,WAAW;EACX,YAAY;EACZ,YAAY;EACZ,0BAA0B;EAC1B,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,WAAW;EACX,aAAa;EACb,WAAW;EACX,YAAY;EACZ,YAAY;EACZ,0BAA0B;EAC1B,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,QAAQ;EACR,sBAAsB;EACtB,cAAc;EACd,WAAW;EACX,WAAW;EACX,YAAY;EACZ,sBAAsB;EACtB,WAAW;AACb;AACA;EACE,aAAa;AACf;AACA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,sBAAsB;EACtB,iBAAiB;AACnB;AACA;EACE,qBAAqB;EACrB,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,4BAAsB;EAAtB,6BAAsB;EAAtB,8BAAsB;MAAtB,0BAAsB;UAAtB,sBAAsB;EACtB,yBAA8B;EAA9B,sCAA8B;MAA9B,sBAA8B;UAA9B,8BAA8B;AAChC;AACA;EACE,kBAAkB;EAClB,qBAAqB;EACrB,oBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,yBAAmB;EAAnB,2BAAmB;MAAnB,sBAAmB;UAAnB,mBAAmB;EACnB,mBAAmB;AACrB;AACA;EACE,gBAAgB;AAClB;AACA;EACE,kBAAkB;EAClB,WAAW;EACX,QAAQ;EACR,cAAc;EACd,WAAW;EACX,WAAW;EACX,sBAAsB;EACtB,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,8BAAsB;UAAtB,sBAAsB;EACtB,WAAW;EACX,MAAM;EACN,cAAc;EACd,WAAW;EACX,yBAAyB;EACzB,YAAY;EACZ,2BAA2B;EAC3B,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,8BAAsB;UAAtB,sBAAsB;EACtB,WAAW;EACX,QAAQ;EACR,cAAc;EACd,WAAW;EACX,+BAA+B;EAC/B,YAAY;EACZ,2BAA2B;EAC3B,WAAW;AACb;AACA;EACE,kBAAkB;EAClB,8BAAsB;UAAtB,sBAAsB;EACtB,WAAW;EACX,cAAc;EACd,WAAW;EACX,wBAAwB;EACxB,YAAY;EACZ,2BAA2B;EAC3B,WAAW;AACb",sourcesContent:[".tree-root {\n  display: -webkit-flex;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px !important;\n}\n.tree-node {\n  display: flex!important;\n  justify-content: center;\n  align-items: center;\n  position: relative;\n  padding: 6px 10px;\n  background: #fff;\n  color: #333;\n  min-width: 80px;\n  font-size: 12px;\n  border: 1px solid #00f;\n}\n.tree-node .icon-operating {\n  margin: 0 4px;\n  display: flex;\n  cursor: pointer;\n  font-size: 16px;\n  width: 16px;\n  height: 16px;\n}\n.tree-node::before {\n  position: absolute;\n  top: 50%;\n  left: -30px;\n  display: block;\n  width: 30px;\n  height: 30px;\n  border: none;\n  border-top: 1px solid #00f;\n  content: '';\n}\n.tree-node:first-child::before {\n  position: absolute;\n  top: 50%;\n  left: -30px;\n  display: none;\n  width: 30px;\n  height: 30px;\n  border: none;\n  border-top: 1px solid #00f;\n  content: '';\n}\n.tree-node:after {\n  position: absolute;\n  top: 50%;\n  left: calc(100% + 1px);\n  display: block;\n  width: 30px;\n  height: 1px;\n  border: none;\n  background-color: #00f;\n  content: '';\n}\n.leaf-node::after {\n  display: none;\n}\n.tree-childNodes {\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 60px;\n}\n.tree-childNodes >  {\n  display: -webkit-flex;\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n}\n.tree-childNodes-row {\n  position: relative;\n  display: -webkit-flex;\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n}\n.tree-childNodes-row:last-child {\n  margin-bottom: 0;\n}\n.tree-childNodes-row:before {\n  position: absolute;\n  left: -30px;\n  top: 50%;\n  display: block;\n  width: 30px;\n  height: 1px;\n  background-color: #00f;\n  content: '';\n}\n.multiply-node::after {\n  position: absolute;\n  box-sizing: border-box;\n  left: -30px;\n  top: 0;\n  display: block;\n  width: 30px;\n  height: calc(100% + 10px);\n  border: none;\n  border-left: 1px solid #00f;\n  content: '';\n}\n.multiply-node:first-child:after {\n  position: absolute;\n  box-sizing: border-box;\n  left: -30px;\n  top: 50%;\n  display: block;\n  width: 30px;\n  height: calc(100% - 50% + 10px);\n  border: none;\n  border-left: 1px solid #00f;\n  content: '';\n}\n.multiply-node:last-child:after {\n  position: absolute;\n  box-sizing: border-box;\n  left: -30px;\n  display: block;\n  width: 30px;\n  height: calc(100% - 50%);\n  border: none;\n  border-left: 1px solid #00f;\n  content: '';\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"tree-root":"_1t_n9zqlH_iwbBevamsQxA","tree-node":"_1kgi3KXC7p0tOrYo98TKLp","icon-operating":"_2aW7oJrdjFoAm9t3L0iG-I","leaf-node":"_1LmqDvjyThWvoHfhnUVysa","tree-childNodes":"_1SaJoNCGtxqO90f3M5QvAK","tree-childNodes-row":"_3mGZxaA-qxasm1IJPRjQC_","multiply-node":"Z194GEDGqHkybnCkJW7uZ"},__webpack_exports__.default=___CSS_LOADER_EXPORT___},2803:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(330),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__)()(!0);___CSS_LOADER_EXPORT___.push([module.i,"._22cd9EBoaVG2TQzAhCTQVC {\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  height: 45px;\n  line-height: 45px;\n  background-color: #eee;\n}\n._22cd9EBoaVG2TQzAhCTQVC .f0VLOLZi_GW2Y8TwzGg3l {\n  margin-left: 10px;\n  display: -webkit-box;\n  display: -webkit-flex;\n  display: -ms-flexbox;\n  display: flex;\n  height: 20px;\n  width: 20px;\n  cursor: pointer;\n}\n._22cd9EBoaVG2TQzAhCTQVC .jRJmbTBP9_OuWDpxTUVh6 {\n  opacity: 0.5;\n}\n","",{version:3,sources:["webpack://src/components/header.less"],names:[],mappings:"AAAA;EACE,oBAAa;EAAb,qBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,yBAAmB;EAAnB,2BAAmB;MAAnB,sBAAmB;UAAnB,mBAAmB;EACnB,YAAY;EACZ,iBAAiB;EACjB,sBAAsB;AACxB;AACA;EACE,iBAAiB;EACjB,oBAAa;EAAb,qBAAa;EAAb,oBAAa;EAAb,aAAa;EACb,YAAY;EACZ,WAAW;EACX,eAAe;AACjB;AACA;EACE,YAAY;AACd",sourcesContent:[".header-wraper {\n  display: flex;\n  align-items: center;\n  height: 45px;\n  line-height: 45px;\n  background-color: #eee;\n}\n.header-wraper .toolbar-icon {\n  margin-left: 10px;\n  display: flex;\n  height: 20px;\n  width: 20px;\n  cursor: pointer;\n}\n.header-wraper .toolbar-icon-default {\n  opacity: 0.5;\n}\n"],sourceRoot:""}]),___CSS_LOADER_EXPORT___.locals={"header-wraper":"_22cd9EBoaVG2TQzAhCTQVC","toolbar-icon":"f0VLOLZi_GW2Y8TwzGg3l","toolbar-icon-default":"jRJmbTBP9_OuWDpxTUVh6"},__webpack_exports__.default=___CSS_LOADER_EXPORT___},2807:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"DDEditor",(function(){return DDEditor_stories_DDEditor}));var react=__webpack_require__(0),react_default=__webpack_require__.n(react),prop_types=(__webpack_require__(452),__webpack_require__(1583),__webpack_require__(1584),__webpack_require__(1585),__webpack_require__(1007),__webpack_require__(1590),__webpack_require__(1008),__webpack_require__(1591),__webpack_require__(1592),__webpack_require__(1594),__webpack_require__(1596),__webpack_require__(1)),prop_types_default=__webpack_require__.n(prop_types),classnames=(__webpack_require__(2791),__webpack_require__(2793),__webpack_require__(1597),__webpack_require__(2795),__webpack_require__(138)),classnames_default=__webpack_require__.n(classnames),v4=__webpack_require__(2816),components=__webpack_require__(218),components_default=__webpack_require__.n(components);__webpack_require__(2800),__webpack_require__(1011),__webpack_require__(2802),__webpack_require__(1578),__webpack_require__(1581);function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}function toTree(data,parId){var list=JSON.parse(JSON.stringify(data)),obj={},result=[];list.forEach((function(el){obj[el.id]=el}));for(var i=0,len=list.length;i<len;i++){var id=list[i].parentId;id===parId?result.push(list[i]):obj[id].children?obj[id].children.push(list[i]):obj[id].children=[list[i]]}return result}var _messages,data,undoStack,redoStack,Action,Stack=function(){function Stack(){!function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,Stack),this.count=0,this.items={}}return function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}(Stack,[{key:"size",value:function size(){return this.count}},{key:"isEmpty",value:function isEmpty(){return 0===this.count}},{key:"push",value:function push(element){this.items[this.count]=element,this.count++}},{key:"pop",value:function pop(){if(!this.isEmpty()){this.count--;var result=this.items[this.count];return delete this.items[this.count],result}}}]),Stack}(),Observer=(_messages={},{subscribe:function subscribe(type,fn){void 0===_messages[type]?_messages[type]=[fn]:_messages[type].push(fn)},unSubScribe:function unSubScribe(type,fn){if(_messages[type]instanceof Array)for(var i=_messages[type].length-1;i>=0;i--)_messages[type][i]===fn&&_messages[type].splice(i,1)},dispatch:function dispatch(type,args){if(_messages[type])for(var events={type:type,args:args||{}},i=0;i<_messages[type].length;i++)_messages[type][i].call(this,events)}}),useDataShare=(data=[],undoStack=new Stack,redoStack=new Stack,Action={init:function init(info){data=function treeToList(tree){var queen=[],out=[];for(queen=queen.concat(tree);queen.length;){var first=queen.shift();first.children&&(queen=queen.concat(first.children),delete first.children),out.push(first)}return out}(data=Object.assign([],info))},add:function add(info){var list=JSON.parse(JSON.stringify(data));undoStack.push(list),console.log("undoStack=",undoStack),data.push(info),Action.retrieve()},delete:function _delete(info){var list=JSON.parse(JSON.stringify(data));undoStack.push(list);var newData=function deleteNode(tree,node){var queue=[],out=[];for(queue=queue.concat(tree);queue.length;){var first=queue.shift();first.id!==node.id&&(first.children&&(queue=queue.concat(first.children),delete first.children),out.push(first))}return out}(toTree(data,-1),info);data=newData,Action.retrieve()},undo:function undo(){if(!undoStack.isEmpty()){var list=JSON.parse(JSON.stringify(data));redoStack.push(list),data=undoStack.pop(),Action.retrieve()}},redo:function redo(){if(!redoStack.isEmpty()){var list=JSON.parse(JSON.stringify(data));undoStack.push(list),data=redoStack.pop(),Action.retrieve()}},retrieve:function retrieve(){var result=toTree(data,-1);return Observer.dispatch("tree",{msg:result}),result}},{excute:function excute(msg){if(msg)if(msg.length)for(var i=0;i<msg.length;i++)this(msg[i]);else Action[msg.command].call(Action,msg.param)},stack:{undoStack:undoStack,redoStack:redoStack}});__webpack_require__(1598),__webpack_require__(1005);function _extends(){return(_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function _objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function _objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}var Icon=Object(react.forwardRef)((function(props,ref){var className=props.className,children=props.children,restProps=_objectWithoutProperties(props,["className","children"]),classString=classnames_default()(className);return react_default.a.createElement("span",_extends({},restProps,{className:classString,ref:ref}),function renderInnerNode(){return children?react_default.a.createElement("svg",{style:{height:"inherit",width:"inherit"}},children):null}())}));Icon.propTypes={className:prop_types_default.a.string,children:prop_types_default.a.node};var IconFont_Icon=Icon;function IconFont_extends(){return(IconFont_extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}function IconFont_objectWithoutProperties(source,excluded){if(null==source)return{};var key,i,target=function IconFont_objectWithoutPropertiesLoose(source,excluded){if(null==source)return{};var key,i,target={},sourceKeys=Object.keys(source);for(i=0;i<sourceKeys.length;i++)key=sourceKeys[i],excluded.indexOf(key)>=0||(target[key]=source[key]);return target}(source,excluded);if(Object.getOwnPropertySymbols){var sourceSymbolKeys=Object.getOwnPropertySymbols(source);for(i=0;i<sourceSymbolKeys.length;i++)key=sourceSymbolKeys[i],excluded.indexOf(key)>=0||Object.prototype.propertyIsEnumerable.call(source,key)&&(target[key]=source[key])}return target}function create(options){var scriptUrl=options.scriptUrl;scriptUrl&&function createScriptUrlElements(scriptUrls){var index=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,currentScriptUrl=scriptUrls[index],script=document.createElement("script");script.setAttribute("src",currentScriptUrl),script.setAttribute("data-namespace",currentScriptUrl),document.body.appendChild(script)}([scriptUrl]);var Iconfont=Object(react.forwardRef)((function(props,ref){var type=props.type,children=props.children,restProps=IconFont_objectWithoutProperties(props,["type","children"]),content=null;return type&&(content=react_default.a.createElement("use",{xlinkHref:"#".concat(type)})),children&&(content=children),react_default.a.createElement(IconFont_Icon,IconFont_extends({},restProps,{ref:ref}),content)}));return Iconfont.displayName="Iconfont",Iconfont.propTypes={type:prop_types_default.a.string,children:prop_types_default.a.node},Iconfont}var components_Node=function Node(props){var dataTree=props.dataTree,NodeContainer=props.NodeContainer,isChild=props.isChild,editorEnable=props.editorEnable,currentRef=Object(react.useRef)(null),isLeaf=function isLeaf(data){return data.children?"":"leaf-node"},IconFont=create({scriptUrl:["http://at.alicdn.com/t/font_1986533_vk4mok8me3k.js"]});return react_default.a.createElement(react.Fragment,null,dataTree.map((function(item){return react_default.a.createElement("div",{key:item.id,className:classnames_default()(isChild?components_default.a["tree-childNodes-row"]:components_default.a["tree-root"],dataTree.length>1?components_default.a["multiply-node"]:"")},react_default.a.createElement("span",{className:classnames_default()(components_default.a["tree-node"],components_default.a["".concat(isLeaf(item))])},editorEnable&&react_default.a.createElement(IconFont,{type:"icon-clear",style:{fill:"#F4374C"},className:classnames_default()(components_default.a["icon-operating"]),onClick:function onClick(){return function onDelete(info){useDataShare.excute({command:"delete",param:info})}(item)}}),react_default.a.createElement(NodeContainer,{title:item.name}),editorEnable&&react_default.a.createElement(IconFont,{type:"icon-add",style:{fill:"#24803D"},className:classnames_default()(components_default.a["icon-operating"]),onClick:function onClick(){return function onAdd(info){var singleData={id:Object(v4.a)().replace(/-/g,""),parentId:info.id,name:Object(v4.a)().replace(/-/g,"")};useDataShare.excute({command:"add",param:singleData})}(item)}})),item.children&&react_default.a.createElement("div",{ref:currentRef,className:classnames_default()(components_default.a["tree-childNodes"])},react_default.a.createElement(Node,{dataTree:item.children,NodeContainer:NodeContainer,editorEnable:editorEnable,isChild:!0})))})))};components_Node.propTypes={dataTree:prop_types_default.a.array,editorEnable:prop_types_default.a.bool,isChild:prop_types_default.a.bool,NodeContainer:prop_types_default.a.elementType},components_Node.defaultProps={isChild:!1};var src_components=components_Node,header=__webpack_require__(248),header_default=__webpack_require__.n(header);function _slicedToArray(arr,i){return function _arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function _iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function _unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _arrayLikeToArray(o,minLen)}(arr,i)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function setZoom(ref,size){ref.setAttribute("style","transform:scale(".concat(size,");transform-origin:left top;"))}var initialState={count:1};function reducer(state,action){switch(action.type){case"increment":var counts=state.count+.1;return setZoom(action.ref,counts),{count:counts};case"decrement":var dCount=state.count-.1;return dCount<=.1?{count:.1}:(setZoom(action.ref,dCount),{count:dCount});case"preview":var _action$ref$current=action.ref.current,clientWidth=_action$ref$current.clientWidth,scrollWidth=_action$ref$current.scrollWidth,pCount=1;return pCount=1===state.count?clientWidth/scrollWidth:1,setZoom(action.ref,pCount),{count:pCount};default:throw new Error}}var components_Header=Object(react.forwardRef)((function(props,canvasRef){var IconFont=create({scriptUrl:["//at.alicdn.com/t/font_1986533_vk4mok8me3k.js"]}),_useReducer2=_slicedToArray(Object(react.useReducer)(reducer,initialState),2),cunter=_useReducer2[0],cDispatch=_useReducer2[1];console.log("cunter=",cunter);return react_default.a.createElement(react.Fragment,null,react_default.a.createElement("header",{className:header_default.a["header-wraper"]},react_default.a.createElement(IconFont,{type:"icon-undo",className:classnames_default()(header_default.a["toolbar-icon"],useDataShare.stack.undoStack.count<=0?header_default.a["toolbar-icon-default"]:""),onClick:function undo(){useDataShare.excute({command:"undo"})}}),react_default.a.createElement(IconFont,{type:"icon-redo",className:classnames_default()(header_default.a["toolbar-icon"],useDataShare.stack.redoStack.count<=0?header_default.a["toolbar-icon-default"]:""),onClick:function redo(){useDataShare.excute({command:"redo"})}}),react_default.a.createElement(IconFont,{type:"icon-zoomin",className:classnames_default()(header_default.a["toolbar-icon"]),onClick:function onZoomIn(){cDispatch({type:"increment",ref:canvasRef.current.children[1]})}}),react_default.a.createElement(IconFont,{type:"icon-zoomout",className:classnames_default()(header_default.a["toolbar-icon"]),onClick:function onZoomOut(){cDispatch({type:"decrement",ref:canvasRef.current.children[1]})}})))})),src_data=__webpack_require__(634);function src_slicedToArray(arr,i){return function src_arrayWithHoles(arr){if(Array.isArray(arr))return arr}(arr)||function src_iterableToArrayLimit(arr,i){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(arr)))return;var _arr=[],_n=!0,_d=!1,_e=void 0;try{for(var _s,_i=arr[Symbol.iterator]();!(_n=(_s=_i.next()).done)&&(_arr.push(_s.value),!i||_arr.length!==i);_n=!0);}catch(err){_d=!0,_e=err}finally{try{_n||null==_i.return||_i.return()}finally{if(_d)throw _e}}return _arr}(arr,i)||function src_unsupportedIterableToArray(o,minLen){if(!o)return;if("string"==typeof o)return src_arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);"Object"===n&&o.constructor&&(n=o.constructor.name);if("Map"===n||"Set"===n)return Array.from(o);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return src_arrayLikeToArray(o,minLen)}(arr,i)||function src_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function src_arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function TreeNode(props){var NodeContainer=props.NodeContainer,treeData=props.treeData,editorEnable=props.editorEnable,_useState2=src_slicedToArray(Object(react.useState)(treeData),2),dataTree=_useState2[0],setDataTree=_useState2[1],canvasRef=Object(react.useRef)(null);return Object(react.useEffect)((function(){useDataShare.excute({command:"init",param:treeData}),Observer.subscribe("tree",(function(e){setDataTree(e.args.msg)}))}),[]),react_default.a.createElement("div",{ref:canvasRef},react_default.a.createElement(components_Header,{ref:canvasRef}),react_default.a.createElement(src_components,{dataTree:dataTree,NodeContainer:NodeContainer,editorEnable:editorEnable}))}TreeNode.propTypes={treeData:prop_types_default.a.array.isRequired,editorEnable:prop_types_default.a.bool.isRequired,NodeContainer:prop_types_default.a.elementType},TreeNode.defaultProps={treeData:src_data,editorEnable:!0,NodeContainer:react_default.a.createElement(react_default.a.Fragment,null)},TreeNode.displayName="DDEditor";var src_0=TreeNode,DDEditor_stories_DDEditor=(__webpack_exports__.default={title:"Example/DDEditor",component:src_0,argTypes:{treeData:{description:"Set the dataTree of DDEditor"},editorEnable:{description:"Set the editorEnable of DDEditor",table:{defaultValue:{summary:!0}}},NodeContainer:{description:"Set the NodeContainer of DDEditor"}}},function DDEditor(args){return react_default.a.createElement(src_0,args)});DDEditor_stories_DDEditor.args={treeData:src_data,NodeContainer:function NodeContainer(info){return react_default.a.createElement("select",{defaultValue:"1",style:{width:"120px"}},react_default.a.createElement("option",{value:"1"},info.title),react_default.a.createElement("option",{value:"2"},"jack22"))},editorEnable:!0}},634:function(module){module.exports=JSON.parse('[{"id":0,"parentId":-1,"name":"node"}]')}},[[1612,1,2]]]);
//# sourceMappingURL=main.927b14d383c85ca8480a.bundle.js.map