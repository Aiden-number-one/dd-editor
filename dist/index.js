module.exports=function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}return t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=19)}([function(e,n){e.exports=require("react")},function(e,n,t){var o;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var t={}.hasOwnProperty;function r(){for(var e=[],n=0;n<arguments.length;n++){var o=arguments[n];if(o){var i=typeof o;if("string"===i||"number"===i)e.push(o);else if(Array.isArray(o)&&o.length){var a=r.apply(null,o);a&&e.push(a)}else if("object"===i)for(var c in o)t.call(o,c)&&o[c]&&e.push(c)}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(n,[]))||(e.exports=o)}()},function(e,n,t){e.exports=t(14)()},function(e,n,t){var o=t(7),r=t(17);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,n,t){var o=t(7),r=t(18);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,n,t){"use strict";e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t=function(e,n){var t=e[1]||"",o=e[3];if(!o)return t;if(n&&"function"==typeof btoa){var r=(a=o,c=btoa(unescape(encodeURIComponent(JSON.stringify(a)))),s="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(s," */")),i=o.sources.map((function(e){return"/*# sourceURL=".concat(o.sourceRoot||"").concat(e," */")}));return[t].concat(i).concat([r]).join("\n")}var a,c,s;return[t].join("\n")}(n,e);return n[2]?"@media ".concat(n[2]," {").concat(t,"}"):t})).join("")},n.i=function(e,t,o){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(o)for(var i=0;i<this.length;i++){var a=this[i][0];null!=a&&(r[a]=!0)}for(var c=0;c<e.length;c++){var s=[].concat(e[c]);o&&r[s[0]]||(t&&(s[2]?s[2]="".concat(t," and ").concat(s[2]):s[2]=t),n.push(s))}},n}},function(e,n,t){"use strict";e.exports=function(e,n){return n||(n={}),"string"!=typeof(e=e&&e.__esModule?e.default:e)?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),n.hash&&(e+=n.hash),/["'() \t\n]/.test(e)||n.needQuotes?'"'.concat(e.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):e)}},function(e,n,t){"use strict";var o,r=function(){return void 0===o&&(o=Boolean(window&&document&&document.all&&!window.atob)),o},i=function(){var e={};return function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(e){t=null}e[n]=t}return e[n]}}(),a=[];function c(e){for(var n=-1,t=0;t<a.length;t++)if(a[t].identifier===e){n=t;break}return n}function s(e,n){for(var t={},o=[],r=0;r<e.length;r++){var i=e[r],s=n.base?i[0]+n.base:i[0],l=t[s]||0,u="".concat(s," ").concat(l);t[s]=l+1;var f=c(u),d={css:i[1],media:i[2],sourceMap:i[3]};-1!==f?(a[f].references++,a[f].updater(d)):a.push({identifier:u,updater:h(d,n),references:1}),o.push(u)}return o}function l(e){var n=document.createElement("style"),o=e.attributes||{};if(void 0===o.nonce){var r=t.nc;r&&(o.nonce=r)}if(Object.keys(o).forEach((function(e){n.setAttribute(e,o[e])})),"function"==typeof e.insert)e.insert(n);else{var a=i(e.insert||"head");if(!a)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");a.appendChild(n)}return n}var u,f=(u=[],function(e,n){return u[e]=n,u.filter(Boolean).join("\n")});function d(e,n,t,o){var r=t?"":o.media?"@media ".concat(o.media," {").concat(o.css,"}"):o.css;if(e.styleSheet)e.styleSheet.cssText=f(n,r);else{var i=document.createTextNode(r),a=e.childNodes;a[n]&&e.removeChild(a[n]),a.length?e.insertBefore(i,a[n]):e.appendChild(i)}}function p(e,n,t){var o=t.css,r=t.media,i=t.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}var b=null,m=0;function h(e,n){var t,o,r;if(n.singleton){var i=m++;t=b||(b=l(n)),o=d.bind(null,t,i,!1),r=d.bind(null,t,i,!0)}else t=l(n),o=p.bind(null,t,n),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)};return o(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;o(e=n)}else r()}}e.exports=function(e,n){(n=n||{}).singleton||"boolean"==typeof n.singleton||(n.singleton=r());var t=s(e=e||[],n);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var o=0;o<t.length;o++){var r=c(t[o]);a[r].references--}for(var i=s(e,n),l=0;l<t.length;l++){var u=c(t[l]);0===a[u].references&&(a[u].updater(),a.splice(u,1))}t=i}}}},function(e,n,t){"use strict";n.a=t.p+"1680f2ed7ad34d64b39d3c1cacad8e9b.eot"},function(e,n,t){var o=t(7),r=t(16);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};o(r,i);e.exports=r.locals||{}},function(e,n,t){"use strict";n.a=t.p+"c8eb24da322ee3f901cf96d014d180ed.woff"},function(e,n,t){"use strict";n.a=t.p+"c694215ce46269218aae5cd3073b8f08.ttf"},function(e,n,t){"use strict";n.a=t.p+"151dbdbaff9d2df67b09fc69b0fc9a2d.svg"},function(e){e.exports=JSON.parse('[{"id":0,"parentId":-1,"name":"node","children":[{"id":1,"parentId":0,"name":"node1","children":[{"id":111,"parentId":1,"name":"node111"},{"id":112,"parentId":1,"name":"node112"}]}]}]')},function(e,n,t){"use strict";var o=t(15);function r(){}function i(){}i.resetWarningCache=r,e.exports=function(){function e(e,n,t,r,i,a){if(a!==o){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function n(){return e}e.isRequired=e;var t={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:n,element:e,elementType:e,instanceOf:n,node:e,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:i,resetWarningCache:r};return t.PropTypes=t,t}},function(e,n,t){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,n,t){"use strict";t.r(n);var o=t(5),r=t.n(o),i=t(6),a=t.n(i),c=t(8),s=t(10),l=t(11),u=t(12),f=r()(!1),d=a()(c.a),p=a()(c.a,{hash:"#iefix"}),b=a()(s.a),m=a()(l.a),h=a()(u.a,{hash:"#iconfont"});f.push([e.i,'@font-face {font-family: "iconfont";\n  src: url('+d+"); /* IE9 */\n  src: url("+p+") format('embedded-opentype'), \n  url('data:application/x-font-woff2;charset=utf-8;base64,d09GMgABAAAAAAWwAAsAAAAACrwAAAViAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHEIGVgCDWgqHdIcNATYCJAMkCxQABCAFhG0HcBt5CTPS6MVJR/ZfHGRy1y0Cd2QbawvBSEZiQeSScQgS0UHbkZ7pbw/P9GhXDc9IXfR+jIf/X3v2+8zc0YeaRVONorERCosIXzpawgz/nva6NB2g/ExykolJMUvHT6I42Fl1PB4D3eISlPuH+6VeJH48y3eVLlW5qAQcRfKAooKqRTaQAfmGscuLPJ9Aa5w5YounPwpqib5ZIK4y6YmgTrilCiTUtrJg3yQ+gdXZ6+wLPnq/H38tippMkdO33XneIwVs+CHzY2z+snspxvGqGS4IdhA55iARlwvDZ+VBeY5cK0snK1BKbbMfI3+M7TqGNI3x3Cxz7QHIJYVStfR/vIwo6eY+EH/TVB+axhKQ82OogMSPYQIKfgwXUPJjhICKHyPVQ1jGQKeAlrGwgww0zj6DMJEYQ3yjW7d45ricnZOkv1w+bFiYCC316dPf8hUJG2pDYSozK/Qr+/d/gvtjKBufBAPC8Y13gyccjjqEx4c7oBgH3CkKhOI79zpXCMfs8WjOM4z3Ipz7HGc/JXAUo+OZQZg/Swi0enqBd2hPcbk4m41yOBiPlxDV4fLCeTxMcLHZ9caLL0Px1PwfRgmBvnFBmK/dKgT1DgpD7YHo9odFQZ9TIpS+J0UpffYC4dS/6MVREbjvMTG4jf7au6lkP71LwuKLonCfB0vJHWY/RWdsLxrNWLVWE11RVrVho+xbGOdReKFG6z3fB7Z0FehbFAyKKKcMgXXpsCixfXia35mf+klg4eSYROMjChr2trUVjNP6F34FhmucazJhkeJ7NKwLZX1MvImM3m2l/AK+Ii19JRkKx0iluujS02VaurPL+rqJsYszuFPcPnuuPe6CTccHc+VzKtDcrVtz0Cx0+xaEkNu3Z09y63bFdDKYTtWM1ojVOLnVy8vzpL96jCZrGqRkzYeH4EbRIFF+JLWsvnWbOrscVVTClVr4Do9AzVDL4WGLqyBGCCoy287HvrL0WgbO3VnmvezUFu6xVWfaalfRrLyXc7byoG+uc8xQ3lpelabhOVXOSlBXcJ2xXIMcTU61wi4cMzlmlTaDPs39jruGUmRfxlTt8Bkarza0brqmsQr0ljqNj5vIhNPEMmqnvyZJKfgSfNmpezldokpJUakCthZ50rILvX+fdg3nu/e2Knr7HXz9cOHDYSfwf63PLml1n8lWP/g4Ydts3WqlzLjMYihbt1g120x9jH74koSkyJPmGnC1xaxwQdH871GxMdHfTfy6RYtar1JqoOHSXrwE+rfm57JtAMjX8m0C0A18ZAHd5lEIA7qNHQgFuo/JuTBd79cEoKvI30Lxf/qafiddfH/7bwLCCU36v8P2wEt1FQlAr/rtRoL/WtNwVFJ0uqdJ0uCtDQUaO4jzLxhbI0cH9Pgg94e1Dm1cJNQJDYNMZSzkalPQCT8HCj1LoFRbD63ZvA7uGSwHJFKDWeoBhAE2IdPPZ8gNcAmd8PegMMw7KA0ICFr7Q/qYPdOC2brdJhLziBQk6RHCPJOZQZq+PCG/eShBz09LzInrPCpO5OQyc4iJoXG62ovIIHKG2CH3Pt007y6JkLcz0xFPcDEiLS0TybqdySKS8wwZd/OybI2MyKJHMky+kQ6EbJaDkCgPIQUiSTEEU7JMGUhn4jxCmZ8PRaDLlyZRTkW/sjyOkCMXc+kIE4aMG6C9zBmN+l1K21wF6EzloSIJQbKmmdIhPFGQkGaUMyGyitdiISTLY4jRoZjFlhEaj2xqNpzemn6vZ0FLv0YTWeR4pCiijCrqaKIFyzl39oZDyr/eqpJ778y5O3c8/pIbN65dul6f/sa9u5WUc1fP3T2XJJ49W0q+eu7UbQAAAA==') format('woff2'),\n  url("+b+") format('woff'),\n  url("+m+") format('truetype'), \n  url("+h+') format(\'svg\'); /* iOS 4.1- */\n}\n\n.iconfont {\n  font-family: "iconfont" !important;\n  font-size: 16px;\n  font-style: normal;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.icon-redo:before {\n  content: "\\e61c";\n}\n\n.icon-undo:before {\n  content: "\\e61d";\n}\n\n.icon-sucess:before {\n  content: "\\e614";\n}\n\n.icon-zoomin:before {\n  content: "\\e615";\n}\n\n.icon-zoomout:before {\n  content: "\\e616";\n}\n\n.icon-delete:before {\n  content: "\\e617";\n}\n\n.icon-add:before {\n  content: "\\e618";\n}\n\n.icon-clear:before {\n  content: "\\e619";\n}\n\n',""]),n.default=f},function(e,n,t){"use strict";t.r(n);var o=t(5),r=t.n(o)()(!1);r.push([e.i,"._1t_n9zqlH_iwbBevamsQxA {\n  display: -webkit-flex;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 10px !important;\n}\n._1kgi3KXC7p0tOrYo98TKLp {\n  display: -webkit-box!important;\n  display: -webkit-flex!important;\n  display: -ms-flexbox!important;\n  display: flex!important;\n  -webkit-box-pack: center;\n  -webkit-justify-content: center;\n      -ms-flex-pack: center;\n          justify-content: center;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  position: relative;\n  padding: 6px 10px;\n  background: #fff;\n  color: #333;\n  min-width: 80px;\n  font-size: 12px;\n  border: 1px solid #00f;\n}\n._1kgi3KXC7p0tOrYo98TKLp ._2aW7oJrdjFoAm9t3L0iG-I {\n  margin: 0 4px;\n  cursor: pointer;\n  font-size: 16px;\n}\n._1kgi3KXC7p0tOrYo98TKLp::before {\n  position: absolute;\n  top: 50%;\n  left: -30px;\n  display: block;\n  width: 30px;\n  height: 30px;\n  border: none;\n  border-top: 1px solid #00f;\n  content: '';\n}\n._1kgi3KXC7p0tOrYo98TKLp:after {\n  position: absolute;\n  top: 50%;\n  left: 100%;\n  display: block;\n  width: 31px;\n  height: 1px;\n  border: none;\n  background-color: #00f;\n  content: '';\n}\n._1LmqDvjyThWvoHfhnUVysa::after {\n  display: none;\n}\n._1SaJoNCGtxqO90f3M5QvAK {\n  position: relative;\n  display: inline-block;\n  vertical-align: middle;\n  margin-left: 60px;\n}\n._1SaJoNCGtxqO90f3M5QvAK >  {\n  display: -webkit-flex;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n  -webkit-flex-direction: column;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -webkit-box-pack: justify;\n  -webkit-justify-content: space-between;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n}\n._3mGZxaA-qxasm1IJPRjQC_ {\n  position: relative;\n  display: -webkit-flex;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n  -webkit-align-items: center;\n      -ms-flex-align: center;\n          align-items: center;\n  margin-bottom: 10px;\n}\n._3mGZxaA-qxasm1IJPRjQC_:last-child {\n  margin-bottom: 0;\n}\n._3mGZxaA-qxasm1IJPRjQC_:before {\n  position: absolute;\n  left: -30px;\n  top: 50%;\n  display: block;\n  width: 30px;\n  height: 1px;\n  background-color: #00f;\n  content: '';\n}\n.Z194GEDGqHkybnCkJW7uZ::after {\n  position: absolute;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  left: -30px;\n  top: 0;\n  display: block;\n  width: 30px;\n  height: calc(100% + 10px);\n  border: none;\n  border-left: 1px solid #00f;\n  content: '';\n}\n.Z194GEDGqHkybnCkJW7uZ:first-child:after {\n  position: absolute;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  left: -30px;\n  top: 50%;\n  display: block;\n  width: 30px;\n  height: calc(100% - 50% + 10px);\n  border: none;\n  border-left: 1px solid #00f;\n  content: '';\n}\n.Z194GEDGqHkybnCkJW7uZ:last-child:after {\n  position: absolute;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  left: -30px;\n  display: block;\n  width: 30px;\n  height: calc(100% - 50%);\n  border: none;\n  border-left: 1px solid #00f;\n  content: '';\n}\n",""]),r.locals={"tree-root":"_1t_n9zqlH_iwbBevamsQxA","tree-node":"_1kgi3KXC7p0tOrYo98TKLp","icon-operating":"_2aW7oJrdjFoAm9t3L0iG-I","leaf-node":"_1LmqDvjyThWvoHfhnUVysa","tree-childNodes":"_1SaJoNCGtxqO90f3M5QvAK","tree-childNodes-row":"_3mGZxaA-qxasm1IJPRjQC_","multiply-node":"Z194GEDGqHkybnCkJW7uZ"},n.default=r},function(e,n,t){"use strict";t.r(n);var o=t(5),r=t.n(o)()(!1);r.push([e.i,"._22cd9EBoaVG2TQzAhCTQVC {\n  height: 45px;\n  line-height: 45px;\n  background-color: #eee;\n}\n._22cd9EBoaVG2TQzAhCTQVC .f0VLOLZi_GW2Y8TwzGg3l {\n  margin-left: 10px;\n  font-size: 16px;\n  cursor: pointer;\n}\n._22cd9EBoaVG2TQzAhCTQVC .jRJmbTBP9_OuWDpxTUVh6 {\n  opacity: 0.5;\n}\n",""]),r.locals={"header-wraper":"_22cd9EBoaVG2TQzAhCTQVC","toolbar-icon":"f0VLOLZi_GW2Y8TwzGg3l","toolbar-icon-default":"jRJmbTBP9_OuWDpxTUVh6"},n.default=r},function(e,n,t){"use strict";t.r(n);var o=t(0),r=t.n(o),i=t(2),a=t.n(i),c=(t(9),t(1)),s=t.n(c),l="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),u=new Uint8Array(16);function f(){if(!l)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return l(u)}var d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var p=function(e){return"string"==typeof e&&d.test(e)},b=[],m=0;m<256;++m)b.push((m+256).toString(16).substr(1));var h=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(b[e[n+0]]+b[e[n+1]]+b[e[n+2]]+b[e[n+3]]+"-"+b[e[n+4]]+b[e[n+5]]+"-"+b[e[n+6]]+b[e[n+7]]+"-"+b[e[n+8]]+b[e[n+9]]+"-"+b[e[n+10]]+b[e[n+11]]+b[e[n+12]]+b[e[n+13]]+b[e[n+14]]+b[e[n+15]]).toLowerCase();if(!p(t))throw TypeError("Stringified UUID is invalid");return t};var y=function(e,n,t){var o=(e=e||{}).random||(e.rng||f)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,n){t=t||0;for(var r=0;r<16;++r)n[t+r]=o[r];return n}return h(o)},g=t(3),x=t.n(g);function v(e,n){let t=JSON.parse(JSON.stringify(e)),o={},r=[];t.forEach(e=>{o[e.id]=e});for(let e=0,i=t.length;e<i;e++){let i=t[e].parentId;i===n?r.push(t[e]):o[i].children?o[i].children.push(t[e]):o[i].children=[t[e]]}return r}class C{constructor(){this.count=0,this.items={}}size(){return this.count}isEmpty(){return 0===this.count}push(e){this.items[this.count]=e,this.count++}pop(){if(this.isEmpty())return;this.count--;const e=this.items[this.count];return delete this.items[this.count],e}}const w=function(){const e={};return{subscribe:function(n,t){void 0===e[n]?e[n]=[t]:e[n].push(t)},unSubScribe:function(n,t){if(e[n]instanceof Array)for(let o=e[n].length-1;o>=0;o--)e[n][o]===t&&e[n].splice(o,1)},dispatch:function(n,t){if(!e[n])return;const o={type:n,args:t||{}};for(let t=0;t<e[n].length;t++)e[n][t].call(this,o)}}}(),k=(()=>{let e=[],n=new C,t=new C;const o={init:n=>{e=Object.assign([],n),e=function(e){let n=[],t=[];for(n=n.concat(e);n.length;){let e=n.shift();e.children&&(n=n.concat(e.children),delete e.children),t.push(e)}return t}(e)},add:t=>{const r=JSON.parse(JSON.stringify(e));n.push(r),console.log("undoStack=",n),e.push(t),o.retrieve()},delete:t=>{const r=JSON.parse(JSON.stringify(e));n.push(r);const i=function(e,n){let t=[];const o=[];for(t=t.concat(e);t.length;){let e=t.shift();e.id!==n.id&&(e.children&&(t=t.concat(e.children),delete e.children),o.push(e))}return o}(v(e,-1),t);e=i,o.retrieve()},undo:()=>{if(!n.isEmpty()){const r=JSON.parse(JSON.stringify(e));t.push(r),e=n.pop(),o.retrieve()}},redo:()=>{if(!t.isEmpty()){const r=JSON.parse(JSON.stringify(e));n.push(r),e=t.pop(),o.retrieve()}},retrieve:()=>{const n=v(e,-1);return w.dispatch("tree",{msg:n}),n}};return{excute:function(e){if(e)if(e.length)for(let n=0;n<e.length;n++)this(e[n]);else o[e.command].call(o,e.param)},stack:{undoStack:n,redoStack:t}}})(),A=e=>{const{dataTree:n,NodeContainer:t,isChild:i,editorEnable:a}=e,c=Object(o.useRef)(null);return r.a.createElement(o.Fragment,null,n.map(e=>{return r.a.createElement("div",{key:e.id,className:s()(i?x.a["tree-childNodes-row"]:x.a["tree-root"],n.length>1?x.a["multiply-node"]:"")},r.a.createElement("span",{className:s()(x.a["tree-node"],x.a[""+(o=e,o.children?"":"leaf-node")])},a&&r.a.createElement("span",{style:{color:"#F4374C"},className:s()("iconfont","icon-clear",x.a["icon-operating"]),onClick:()=>{return n=e,void k.excute({command:"delete",param:n});var n}}),r.a.createElement(t,{title:e.name}),a&&r.a.createElement("span",{style:{color:"#24803D"},className:s()("iconfont","icon-add",x.a["icon-operating"]),onClick:()=>(e=>{const n={id:y().replace(/-/g,""),parentId:e.id,name:y().replace(/-/g,"")};k.excute({command:"add",param:n})})(e)})),e.children&&r.a.createElement("div",{ref:c,className:s()(x.a["tree-childNodes"])},r.a.createElement(A,{dataTree:e.children,NodeContainer:t,editorEnable:a,isChild:!0})));var o}))};A.propTypes={dataTree:a.a.array,editorEnable:a.a.bool,isChild:a.a.bool,NodeContainer:a.a.elementType},A.defaultProps={isChild:!1};var E=A,O=t(4),T=t.n(O);function j(e,n){e.setAttribute("style",`transform:scale(${n});transform-origin:left top;`)}const S={count:1};function J(e,n){switch(n.type){case"increment":const t=e.count+.1;return j(n.ref,t),{count:t};case"decrement":const o=e.count-.1;return o<=.1?{count:.1}:(j(n.ref,o),{count:o});case"preview":const{clientWidth:r,scrollWidth:i}=n.ref.current;let a=1;return a=1===e.count?r/i:1,j(n.ref,a),{count:a};default:throw new Error}}var I=Object(o.forwardRef)((e,n)=>{const[t,i]=Object(o.useReducer)(J,S);console.log("cunter=",t),console.log("useDataShare===",k);return r.a.createElement(o.Fragment,null,r.a.createElement("header",{className:T.a["header-wraper"]},r.a.createElement("span",{className:s()("iconfont","icon-undo",T.a["toolbar-icon"],k.stack.undoStack.count<=0?T.a["toolbar-icon-default"]:""),onClick:()=>{k.excute({command:"undo"})}}),r.a.createElement("span",{className:s()("iconfont","icon-redo",T.a["toolbar-icon"],k.stack.redoStack.count<=0?T.a["toolbar-icon-default"]:""),onClick:()=>{k.excute({command:"redo"})}}),r.a.createElement("span",{className:s()("iconfont","icon-zoomin",T.a["toolbar-icon"]),onClick:()=>{i({type:"increment",ref:n.current.children[1]})}}),r.a.createElement("span",{className:s()("iconfont","icon-zoomout",T.a["toolbar-icon"]),onClick:()=>{i({type:"decrement",ref:n.current.children[1]})}})))}),P=t(13);function N(e){const{NodeContainer:n,treeData:t,editorEnable:i}=e,[a,c]=Object(o.useState)(t);console.log("dataTree===",a);const s=Object(o.useRef)(null);return Object(o.useEffect)(()=>{k.excute({command:"init",param:t}),w.subscribe("tree",e=>{c(e.args.msg)})},[]),r.a.createElement("div",{ref:s},r.a.createElement(I,{ref:s}),r.a.createElement(E,{dataTree:a,NodeContainer:n,editorEnable:i}))}N.propTypes={treeData:a.a.array,editorEnable:a.a.bool,NodeContainer:a.a.elementType},N.defaultProps={treeData:P,editorEnable:!0,NodeContainer:r.a.createElement(r.a.Fragment,null)};n.default=N}]);